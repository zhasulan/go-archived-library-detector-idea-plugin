<?xml version="1.0" encoding="UTF-8"?>
<idea-plugin>
    <id>com.github.yourname.go-archived-library-detector</id>
    <name>Go Archived Library Detector</name>
    <version>1.0.4</version>

    <vendor email="zhasulan87@gmail.com" url="https://github.com/zhasulan/go-archived-library-detector-idea-plugin">
        Zhasulan Berdibekov
    </vendor>

    <description><![CDATA[
        <h1>Go Archived Library Detector</h1>
        <p>Automatically detects archived and unmaintained Go libraries in your projects across multiple platforms.</p>

        <h2>Features:</h2>
        <ul>
            <li>üåê Multi-platform support: GitHub, GitLab (public/private/corporate), Bitbucket (public/private)</li>
            <li>üîç Automatic detection of archived repositories</li>
            <li>‚ö†Ô∏è Visual warnings in editor for archived imports</li>
            <li>üìä Batch checking for all project imports</li>
            <li>üíæ Smart caching to minimize API calls</li>
            <li>üåç Support for multiple languages (English, Russian)</li>
            <li>‚ö° Background updates with configurable refresh rates</li>
        </ul>

        <h2>Usage:</h2>
        <p>The plugin works automatically. Open any Go file and it will check imports.</p>
        <p>Configure via: <b>Settings ‚Üí Tools ‚Üí Archived Library Detector</b></p>
    ]]></description>

    <change-notes><![CDATA[
        <h3>Version 1.0.4</h3>
        <ul>
            <li><b>Multi-platform support:</b> Added support for GitLab (public, private, corporate) and Bitbucket (public, private) repositories</li>
            <li><b>Critical bug fix:</b> Fixed PluginException "Range must be inside element being annotated"</li>
            <li>Added comprehensive validation checks for annotations</li>
            <li>Improved annotator reliability and performance</li>
            <li>Refactored service architecture to support multiple platforms</li>
            <li>Platform checker factory pattern for extensibility</li>
        </ul>

        <h3>Version 1.0.3</h3>
        <ul>
            <li>Add CICD actions for release</li>
        </ul>

        <h3>Version 1.0.2</h3>
        <ul>
            <li>Removed deprecated <code>JPasswordField.getText()</code> usage</li>
            <li>Switched to secure password handling via <code>getPassword()</code></li>
            <li>Improved compatibility with IntelliJ Plugin Verifier 2025</li>
        </ul>

        <h3>Version 1.0.1</h3>
        <ul>
            <li>Replaced deprecated <code>URL(String)</code> usage with <code>URI.toURL()</code></li>
            <li>Improved HTTP connection initialization for Java 21+</li>
        </ul>

        <h3>Version 1.0.0</h3>
        <ul>
            <li>Initial release</li>
            <li>GitHub repository status detection</li>
            <li>Smart caching system</li>
            <li>i18n support (English, Russian)</li>
        </ul>
    ]]></change-notes>

    <depends>com.intellij.modules.platform</depends>
    <depends>org.jetbrains.plugins.go</depends>

    <resource-bundle>messages.GoArchivedBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <notificationGroup
                id="Go Archived Detector"
                displayType="BALLOON"/>

        <localInspection
                language="go"
                key="inspection.archived.library.name"
                groupKey="inspection.group.name"
                enabledByDefault="true"
                level="WARNING"
                implementationClass="com.github.goarchived.inspection.ArchivedLibraryInspection"/>

        <annotator
                language="go"
                implementationClass="com.github.goarchived.annotator.ArchivedLibraryAnnotator"/>

        <projectConfigurable
                parentId="tools"
                instance="com.github.goarchived.settings.PluginSettingsConfigurable"
                id="com.github.goarchived.settings.PluginSettingsConfigurable"
                key="settings.display.name"/>

        <projectService
                serviceImplementation="com.github.goarchived.service.ArchiveCheckService"/>

        <projectService
                serviceImplementation="com.github.goarchived.service.LocalCacheService"/>

        <projectService
                serviceImplementation="com.github.goarchived.settings.PluginSettings"/>
    </extensions>

    <actions>
        <group id="com.github.goarchived.ActionsGroup"
               text="Archived Library Detector"
               description="Actions for detecting archived Go libraries"
               icon="AllIcons.Actions.Find"
               popup="true">
            <add-to-group group-id="ToolsMenu" anchor="last"/>

            <action
                    id="com.github.goarchived.CheckAllImports"
                    class="com.github.goarchived.action.CheckAllImportsAction"
                    icon="AllIcons.Actions.Find"/>

            <action
                    id="com.github.goarchived.ClearCache"
                    class="com.github.goarchived.action.ClearCacheAction"
                    icon="AllIcons.Actions.GC"/>
        </group>
    </actions>
</idea-plugin>